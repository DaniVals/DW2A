<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title></title>
		
		<script> 
		</script>       
	</head>
	<body>
	  Autonomï¿½a:<select id="autonomias">
	  <option value='0'>--Elija una autonom&iacute;a--</option>
	  <option value='galicia'>Galicia</option>
	  <option value='asturias'>Asturias</option>
          <option value='cantabria'>Cantabria</option>
          <option value='pais_vasco'>Pa&iacute;s Vasco</option>
	  </select>
	  <select id="provincias">
	  </select>
</body>
<script>
document.getElementById("autonomias").addEventListener("change", function(){
	var xhttp = new XMLHttpRequest();
	xhttp.onreadystatechange = function(){
		if(this.readyState == 4 && this.status == 200){

			const provincias = this.responseText;
			
			const selectProvincias = document.getElementById("provincias");
			selectProvincias.innerHTML = provincias;
		}
	};
	xhttp.open("GET", "servidor2.php?autonomia=" + document.getElementById("autonomias").value, false); // este false indica que la funcion sea sincrona
	xhttp.send();
});
</script>
</html>
